import React, { useState } from "react";
import { observer } from "mobx-react-lite";
import { indicatorStore } from "@/stores/IndicatorStore.js";
import styles from "../ProgressBarConfiguration.module.scss";

export const Input = observer((props) => {
    const { propertyName, index, label = "" } = props;
    const inputType = propertyName == "color" ? "color" : "number";
    const inputClass = propertyName != "color" ? styles["input-field"] : "";
    const { progressBarKeys, changeProgressBarKey } = indicatorStore;
    const blockInput = label ? styles.input_row : "";

    const item = progressBarKeys[propertyName];

    const handleChange = (event) => {
        changeProgressBarKey(propertyName, event.target.value, index);
    };

    const value = item[index] ? item[index] : "";

    return (
        <div className={blockInput}>
            {label && <span>{label}</span>}
            <input
                type={inputType}
                value={value}
                className={inputClass}
                onChange={handleChange}
            />
        </div>
    );
});
